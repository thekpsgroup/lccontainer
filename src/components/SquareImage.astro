---
export interface Props {
  src: string;
  alt: string;
  size?: number;
  class?: string;
}

const {
  src,
  alt,
  size = 400,
  class: className = ''
} = Astro.props;
---

<div class={`square-image-container ${className}`}>
  <img
    src={src}
    alt={alt}
    width={size}
    height={size}
    class="square-image"
    loading="lazy"
    decoding="async"
  />
</div>

<style>
  .square-image-container {
    width: 100%;
    height: 0;
    padding-bottom: 100%; /* Makes it square */
    position: relative;
    overflow: hidden;
    background: rgba(178, 34, 34, 0.1);
  }

  .square-image {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: contain; /* Fits entire image within square */
    object-position: center;
  }
</style>
