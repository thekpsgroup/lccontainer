---
const testimonials = [
  {
    name: "Chessica Rommell",
    role: "Verified Customer",
    location: "Dallas, TX",
    text: "LC Container, LLC is fantastic! Their service was fast and dependable from start to finish. Everyone I interacted with was friendly, helpful, and clearly very knowledgeable about the container industry. They offered the best price I could findâ€”definitely competitive and fair.",
    photo: "/photos/container/standard/yard-overview.jpg"
  },
  {
    name: "Michelle Henrise",
    role: "Verified Customer",
    location: "Fort Worth, TX",
    text: "Call them today, you won't be sorry! Eric was incredible getting us all set up and scheduled and Fred was awesome on site! Both were so friendly and easy to work with. You should have seen Fred cutting those tight corners to get our containers in the perfect spot!",
    photo: "/photos/container/standard/yard-inventory.jpg"
  },
  {
    name: "Theresa Tumminia",
    role: "Nonprofit Director",
    location: "Austin, TX",
    text: "Eric at LC Container was exceptional in helping MATI-X our nonprofit design a custom-compliant container for food distribution. His expertise saved us from costly mistakes and significantly reduced our expenses. Thanks to his guidance and the perfect container, we now distribute 6,000 pounds of fresh food weekly to families in need.",
    photo: "/photos/container/standard/container-yard-overview.jpg"
  },
  {
    name: "Faith Nabors",
    role: "Local Guide",
    location: "Houston, TX",
    text: "Eric is wonderful to work with! He helped me find the perfect container that my fiancÃ© and I turned into a floral cooler for my floral business. Eric is friendly and knowledgeable! Containers were at a great price and I'm so happy with how everything turned out.",
    photo: "/photos/container/standard/container-yard-inventory.jpg"
  },
  {
    name: "Tay Michelle",
    role: "Verified Customer",
    location: "San Antonio, TX",
    text: "We negotiated pricing and I left with a better deal I couldn't find anywhere else. Fast response, easy set up, and delivery was smooth! Customer service was top notch. They are now my go to when buying multiple containers!",
    photo: "/photos/container/standard/yard-storage.jpg"
  },
  {
    name: "Aaron Stark",
    role: "Verified Customer",
    location: "Dallas, TX",
    text: "Eric's customer service is outstanding, was able to give me step-by-step updates on everything that was going on",
    photo: "/photos/container/standard/container-storage-area.jpg"
  },
  {
    name: "CandiKane6940",
    role: "Verified Customer",
    location: "Texas",
    text: "LC Container LLC is fantastic! Their service was incredibly fast, and communication throughout the process was clear and professional. They made everything easy and stress-free. Highly recommend for anyone needing container services!",
    photo: "/photos/container/standard/20ft_1.jpg"
  },
  {
    name: "Shundon Anderson",
    role: "Local Guide",
    location: "Texas",
    text: "I had a great experience with LC Containers. Eric is very personal and the service was just wonderful. He was very easy to work with to get the perfect container for my needs.",
    photo: "/photos/container/standard/20ft_2.jpg"
  },
  {
    name: "Scott Ellis",
    role: "Verified Customer",
    location: "Texas",
    text: "Fred delivered our container today, as per order, on time. Fred was very easy to work with and knowledgeable of the different containers and accessories available.",
    photo: "/photos/container/standard/20ft_3.jpg"
  },
  {
    name: "Nora Mothersell",
    role: "Verified Customer",
    location: "Texas",
    text: "Eric is great and will definitely be recommending his company to anyone that needs containers. He got us what we wanted and delivered them when he said he would. Great company and great pricing.",
    photo: "/photos/container/standard/20ft_4.jpg"
  },
  {
    name: "Todd Dorrell",
    role: "Verified Customer",
    location: "Texas",
    text: "Eric and his team were great to work with!! Top notch guy and a top notch company! I would highly recommend!",
    photo: "/photos/container/standard/20ft_5.jpg"
  },
  {
    name: "Pam Bradbury",
    role: "Local Guide",
    location: "Texas",
    text: "Excellent service! Customer service always takes care of any issue we may have. I highly recommend LC Container!",
    photo: "/photos/container/standard/20ft_6.jpg"
  },
  {
    name: "Hailey Schreiner",
    role: "Verified Customer",
    location: "Texas",
    text: "Great company, wonderful customer service & communication! Eric was a pleasure to work with and very knowledgeable. Their equipment is top notch & they delivered my container with no problems & were very efficient. Would definitely use LC container again & recommend to everyone we know!",
    photo: "/photos/container/standard/20ft_7.jpg"
  },
  {
    name: "Misty Fiedler",
    role: "Verified Customer",
    location: "Texas",
    text: "I recommend LC Container to anyone in need of a container. Eric's exceptional customer service, attention to detail, and the willingness to go above and beyond for his customers. I look forward to continue business with LC Container in the present and future, and will recommend to all associates and friends. Great Service!!!!",
    photo: "/photos/container/standard/20ft_8.jpg"
  },
  {
    name: "Robert Bledsoe",
    role: "Verified Customer",
    location: "Texas",
    text: "I have bought several containers over the past couple years from Eric and LC Container. His prices versus condition a hard to beat! All have been great transactions and I would highly recommend them to anyone. Thank you!",
    photo: "/photos/container/standard/40ft_1.jpg"
  },
  {
    name: "Cassandra Alvarado",
    role: "Verified Customer",
    location: "Texas",
    text: "Called Eric and told him exactly what we wanted and needed and he gave us exactly that and had great pricing. Will definitely recommend him to anyone asking for containers.",
    photo: "/photos/container/standard/40ft_2.jpg"
  },
  {
    name: "Dona Meredith",
    role: "Verified Customer",
    location: "Texas",
    text: "Best customer service in the industry and the most quality equipment! Pricing cannot be beat!",
    photo: "/photos/container/standard/40-ft.jpg"
  },
  {
    name: "Meagan Lilley",
    role: "Verified Customer",
    location: "Texas",
    text: "Eric is great to work with! They call back in a timely manner! Great customer service & communication!",
    photo: "/photos/container/standard/yard-overview.jpg"
  },
  {
    name: "Kennedy",
    role: "Verified Customer",
    location: "Texas",
    text: "Delivered a container for me a while back. I had to stall delivery a bunch because of rain and they were super patient and helpful",
    photo: "/photos/container/standard/yard-inventory.jpg"
  },
  {
    name: "Alejandro Mata",
    role: "Verified Customer",
    location: "Texas",
    text: "Amazing service!!! Employees were well mannered and efficient. Delivered on time with no hassle or complications. Definitely will use their services in the future!!",
    photo: "/photos/container/standard/container-yard-overview.jpg"
  },
  {
    name: "Tamara Davis",
    role: "Verified Customer",
    location: "Texas",
    text: "Spoke to Eric several times before buying a container and he was always pleasant and helpful. Highly recommend doing business with LC Container!",
    photo: "/photos/container/standard/container-yard-inventory.jpg"
  },
  {
    name: "Kennedy alexxandra",
    role: "Verified Customer",
    location: "Texas",
    text: "I ordered a LC Container for my dad and honestly didn't even know what i was doing, but they helped me and explained everything from start to finish and got us exactly what I wanted.",
    photo: "/photos/container/standard/yard-storage.jpg"
  },
  {
    name: "David Leathers Jr",
    role: "Verified Customer",
    location: "Texas",
    text: "My personal business with this company have been very smooth and easy. Eric the owner is very straightforward and informative.",
    photo: "/photos/container/standard/container-storage-area.jpg"
  },
  {
    name: "Janet Cazarez",
    role: "Verified Customer",
    location: "Texas",
    text: "Great company, great customer service, great containers! Best place to get your containers at! Eric is your go to guy! ðŸ˜ƒ Highly satisfied!",
    photo: "/photos/container/standard/20ft_1.jpg"
  },
  {
    name: "Bonnie Lee",
    role: "Verified Customer",
    location: "Texas",
    text: "Once again, The Owner Pulled through for me when I needed a container on a job immediately to store my materials and equipment. He always goes above and beyond to meet my needs for each job and puts up with my time constraints when I'm in a bind. Dude even bought me lunch while we were waiting on the driver.",
    photo: "/photos/container/standard/20ft_2.jpg"
  },
  {
    name: "Armando Delacerda",
    role: "Verified Customer",
    location: "Texas",
    text: "Eric was a great person delivered on time and was very helpful person he helped put it on bricks and gave me tips for better foundation and best price in town definitely recommend",
    photo: "/photos/container/standard/20ft_3.jpg"
  },
  {
    name: "Jill Johnson",
    role: "Verified Customer",
    location: "Texas",
    text: "They made this so easy! Ive looked for over a month and was referred to them and had the deal done instantly and it was a solid container! Delivery was fast too! Good people!",
    photo: "/photos/container/standard/20ft_4.jpg"
  },
  {
    name: "Ranch Road Fence Co",
    role: "Verified Customer",
    location: "Texas",
    text: "Great company to get containers from around here. Eric let me know how everything worked and the whole process and communication was great.",
    photo: "/photos/container/standard/20ft_5.jpg"
  },
  {
    name: "Iron Boy",
    role: "Verified Customer",
    location: "Texas",
    text: "Great company, bought many containers and have been easy and smooth great delivery and help!!!! Thanks Eric!!!",
    photo: "/photos/container/standard/20ft_6.jpg"
  },
  {
    name: "Tania Zarate",
    role: "Verified Customer",
    location: "Texas",
    text: "Super friendly and professional! Outstanding customer service, owner is very professional and answered all my questions! Helped me get the service I needed and even went above and beyond to make the process as smooth as possible! Thank you Eric so much !!!",
    photo: "/photos/container/standard/20ft_7.jpg"
  },
  {
    name: "Josh Dye",
    role: "Verified Customer",
    location: "Texas",
    text: "Eric was a pleasure to work with, great customer service and delivery was smooth",
    photo: "/photos/container/standard/20ft_8.jpg"
  },
  {
    name: "staci hurt",
    role: "Verified Customer",
    location: "Texas",
    text: "I didn't know what I was looking for, just knew I needed a container. They not only made me a great deal, but taught me a little more about what I was looking for.",
    photo: "/photos/container/standard/40ft_1.jpg"
  },
  {
    name: "Travis Morgan",
    role: "Verified Customer",
    location: "Texas",
    text: "I recommend LC Container to anyone in need of a container. Eric's exceptional customer service, attention to detail, and genuine support for veterans makes him stand out among the rest. Thank you LC Container, for your outstanding service.",
    photo: "/photos/container/standard/40ft_2.jpg"
  },
  {
    name: "Team C",
    role: "Verified Customer",
    location: "Texas",
    text: "Finding good Shipping Containers is not an easy task. The owners of LC Container went above and beyond to listen to my needs and wants and found the perfect containers for my project. Delivery was no headache and I knew what to expect from start to finish. I'll be a repeat customer for sure.",
    photo: "/photos/container/standard/40-ft.jpg"
  }
];
---
<section class="max-w-[1200px] mx-auto px-5 py-14 fade-in" id="testimonials">
  <h2 class="text-2xl md:text-3xl font-semibold text-center mb-12">What Our Customers Say</h2>
  
  <div class="relative">
    <!-- Testimonial Slider -->
    <div class="testimonial-slider overflow-hidden">
      <div class="flex transition-transform duration-500 ease-out" id="slider-track">
        {testimonials.map((t, index) => (
          <div class="w-full md:w-1/3 flex-shrink-0 px-3">
            <blockquote class="glass hover-lift h-full">
              <div class="flex items-center gap-3 mb-4">
                <div class="w-12 h-12 rounded-full bg-gradient-to-br from-brand-red to-brand-silver flex items-center justify-center text-white font-semibold text-sm">
                  {t.photo ? (
                    <img src={t.photo} alt={t.name} class="w-full h-full rounded-full object-cover" loading="lazy" />
                  ) : (
                    t.name.split(' ').map(n => n[0]).join('')
                  )}
                </div>
                <div>
                  <div class="font-semibold text-sm">{t.name}</div>
                  <div class="text-xs text-ink-muted">{t.role}, {t.location}</div>
                </div>
              </div>
              <div class="flex gap-1 mb-3">
                {Array.from({length: 5}, (_, i) => (
                  <span class="text-yellow-400">â˜…</span>
                ))}
              </div>
              <p class="text-sm text-ink-muted italic">"{t.text}"</p>
            </blockquote>
          </div>
        ))}
      </div>
    </div>
    
    <!-- Navigation Dots -->
    <div class="flex justify-center gap-2 mt-6">
      {testimonials.map((_, index) => (
        <button 
          class="w-2 h-2 rounded-full bg-brand-line hover:bg-brand-silver transition-colors duration-200"
          data-slide={index}
          aria-label={`Go to testimonial ${index + 1}`}
        ></button>
      ))}
    </div>
  </div>
</section>

<!-- Schema.org Reviews -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "AggregateRating",
  "itemReviewed": {
    "@type": "LocalBusiness",
    "name": "LC Container"
  },
  "ratingValue": "5.0",
  "reviewCount": "50"
}
</script>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Review",
  "itemReviewed": {
    "@type": "LocalBusiness",
    "name": "LC Container"
  },
  "review": [
    ${testimonials.map(t => `{
      "@type": "Review",
      "author": {
        "@type": "Person",
        "name": "${t.name}"
      },
      "reviewRating": {
        "@type": "Rating",
        "ratingValue": "5"
      },
      "reviewBody": "${t.text}",
      "datePublished": "2024-01-15"
    }`).join(',')}
  ]
}
</script>

<script define:vars={{ testimonials }}>
  // Testimonial slider functionality
  const sliderTrack = document.getElementById('slider-track');
  const dots = document.querySelectorAll('[data-slide]');
  let currentSlide = 0;
  let autoPlayInterval;

  function goToSlide(index) {
    if (!sliderTrack) return;
    
    currentSlide = index;
    const translateX = -index * 100;
    sliderTrack.style.transform = `translateX(${translateX}%)`;
    
    // Update dots
    dots.forEach((dot, i) => {
      dot.classList.toggle('bg-brand-silver', i === index);
      dot.classList.toggle('bg-brand-line', i !== index);
    });
  }

  function nextSlide() {
    const next = (currentSlide + 1) % testimonials.length;
    goToSlide(next);
  }

  function startAutoPlay() {
    autoPlayInterval = setInterval(nextSlide, 6000);
  }

  function stopAutoPlay() {
    clearInterval(autoPlayInterval);
  }

  // Event listeners
  dots.forEach((dot, index) => {
    dot.addEventListener('click', () => {
      goToSlide(index);
      stopAutoPlay();
      startAutoPlay();
    });
  });

  // Touch/swipe support for mobile
  let startX = 0;
  let endX = 0;

  sliderTrack?.addEventListener('touchstart', (e) => {
    startX = e.touches[0].clientX;
    stopAutoPlay();
  });

  sliderTrack?.addEventListener('touchend', (e) => {
    endX = e.changedTouches[0].clientX;
    const diff = startX - endX;
    
    if (Math.abs(diff) > 50) {
      if (diff > 0) {
        nextSlide();
      } else {
        const prev = (currentSlide - 1 + testimonials.length) % testimonials.length;
        goToSlide(prev);
      }
    }
    
    startAutoPlay();
  });

  // Start autoplay
  startAutoPlay();

  // Pause on hover
  sliderTrack?.addEventListener('mouseenter', stopAutoPlay);
  sliderTrack?.addEventListener('mouseleave', startAutoPlay);
</script>
